@using Microsoft.AspNetCore.Http;
@using ESCenter.Domain.Shared.Courses
@inject IHttpContextAccessor HttpContextAccessor
@{
    var image = HttpContextAccessor.HttpContext?.Session.GetString("image") ?? "/assets/img/avatar-default.svg";
    var name = HttpContextAccessor.HttpContext?.Session.GetString("name") ?? "unknown";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"] - EduSmart</title>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true"/>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="~/assets/img/favicon.png" rel="icon">
    <link href="~/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    @* <link href="lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"> *@
    <link href="~/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="~/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="~/assets/vendor/simple-datatables/style.css" rel="stylesheet">
    <link href="~/assets/vendor/alertifyjs/css/alertify.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="~/assets/css/style.css" rel="stylesheet">
    @await RenderSectionAsync("Styles", required: false)

</head>
<body>
<header id="header" class="header fixed-top d-flex align-items-center">
    <div class="d-flex align-items-center justify-content-between">
        <a asp-controller="Home" asp-action="Index" class="logo d-flex align-items-center">
            <img src="~/assets/img/logo.png" alt="">
            <span class="d-none d-lg-block">EduSmart Website</span>
        </a>
        <i class="bi bi-list toggle-sidebar-btn"></i>
    </div><!-- End Logo -->

    <nav class="header-nav ms-auto">
        <ul class="d-flex align-items-center">

            <li class="nav-item d-block d-lg-none">
                <a class="nav-link nav-icon search-bar-toggle " href="#">
                    <i class="bi bi-search"></i>
                </a>
            </li><!-- End Search Icon-->

            <li class="nav-item dropdown pe-3">

                <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
                    <img src="@image" alt="Profile" class="rounded-circle">
                    <span class="d-none d-md-block ps-2">@name</span>
                </a><!-- End Profile Iamge Icon -->

            </li><!-- End Profile Nav -->

        </ul>
    </nav><!-- End Icons Navigation -->
</header>
<aside id="sidebar" class="sidebar">

    <ul class="sidebar-nav " id="sidebar-nav">
        <li class="nav-item">
            <a class="nav-link collapsed" asp-controller="Home" asp-action="Index">
                <i class="bi bi-grid"></i>
                <span>Home</span>
            </a>
        </li><!-- End Dashboard Nav -->

        <li class="nav-item">
            <a class="nav-link collapsed">
                <i class="bi bi-layout-text-window-reverse"></i><span>User Management</span><i class="bi bi-chevron-down ms-auto"></i>
            </a>
            <ul id="tables-nav" class="nav-content collapse show" data-bs-parent="#sidebar-nav">
                <li>
                    <a asp-action="Index" asp-controller="User">
                        <i class="bi bi-circle"></i><span>Learner</span>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Tutor">
                        <i class="bi bi-circle"></i><span>Tutor</span>
                    </a>
                </li>
                @if (User.IsInRole("SuperAdmin"))
                {
                    <li>
                        <a asp-action="Index" asp-controller="Staff">
                            <i class="bi bi-circle"></i><span>Admin</span>
                        </a>
                    </li>
                }

            </ul>
        </li><!-- End Tables Nav -->

        <li class="nav-item">
            <a class="nav-link collapsed">
                <i class="bi bi-card-list"></i><span>Tutor Requests</span>
            </a>

            <ul id="tables-nav" class="nav-content collapse show" data-bs-parent="#sidebar-nav">
                <li>
                    <a asp-action="Index" asp-controller="TutorRequest" asp-route-type="@RequestStatus.Pending">
                        <i class="bi bi-circle"></i><span>Pending</span>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="TutorRequest" asp-route-type="@RequestStatus.Done">
                        <i class="bi bi-circle"></i><span>Confirmed</span>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="TutorRequest" asp-route-type="@RequestStatus.Canceled">
                        <i class="bi bi-circle"></i><span>Canceled</span>
                    </a>
                </li>
            </ul>

        </li>

        <li class="nav-item">
            <a class="nav-link collapsed" asp-controller="Payment" asp-action="Index">
                <i class="bi bi-gem"></i><span>Payments</span>
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link collapsed">
                <i class="bi bi-info-square"></i>
                <span>Classes</span>
            </a>
            <ul id="tables-nav" class="nav-content collapse show" data-bs-parent="#sidebar-nav">
                <li>
                    <a asp-action="Index" asp-controller="Course" asp-route-type="@Status.PendingApproval.ToString()">
                        <i class="bi bi-circle"></i><span>Verifying</span>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Course" asp-route-type="@Status.OnProgressing.ToString()">
                        <i class="bi bi-circle"></i><span>On Progressing</span>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Course" asp-route-type="@Status.UnverifiedPayment.ToString()">
                        <i class="bi bi-circle"></i><span>Unverified Payment</span>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Course" asp-route-type="@Status.Confirmed.ToString()">
                        <i class="bi bi-circle"></i><span>Confirmed</span>
                    </a>
                </li>
                <li>
                    <a asp-action="Index" asp-controller="Course" asp-route-type="@Status.Available.ToString()">
                        <i class="bi bi-circle"></i><span>Available</span>
                    </a>
                </li
                >
                <li>
                    <a asp-action="Index" asp-controller="Course" asp-route-type="@Status.Canceled.ToString()">
                        <i class="bi bi-circle"></i><span>Canceled</span>
                    </a>
                </li>
                <li>
                    <a asp-action="Today" asp-controller="Course" asp-route-type="Today">
                        <i class="bi bi-circle"></i><span>Today</span>
                    </a>
                </li>
            </ul>
        </li><!-- End Subject Nav -->
        <li class="nav-item">
            <a class="nav-link collapsed" asp-action="Index" asp-controller="Subject">
                <i class="bi bi-journal-bookmark"></i>
                <span>Subject</span>
            </a>
        </li><!-- End Subject Nav -->

        <li class="nav-heading">Pages</li>

        <li class="nav-item">
            <a class="nav-link collapsed" asp-controller="Profile" asp-action="Index">
                <i class="bi bi-person"></i>
                <span>Profile</span>
            </a>
        </li><!-- End Profile Page Nav -->

        <li class="nav-item">
            <a class="nav-link collapsed" asp-controller="Authentication" asp-action="Logout">
                <i class="bi bi-box-arrow-in-right"></i>
                <span>Logout</span>
            </a>
        </li><!-- End Login Page Nav -->


    </ul>

</aside><!-- End Sidebar-->
<main role="main" id="main" class="main">
    @RenderBody()
</main>

<div class="modal fade" id="verticalCentered" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Vertically Centered Dialog's Title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure with this process?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <form id="confirmDialogForm" onsubmit="return callPostActionWithForm(this);">
                    <button type="submit" class="btn btn-primary">Confirm</button>
                </form>
            </div>
        </div>
    </div>
</div><!-- End Vertically centered Modal-->

<button type="button" hidden class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#largeModal" id="modalTriggerButton">
    Large Modal
</button>

<div class="modal fade" id="largeModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Large Modal</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Non omnis incidunt qui sed occaecati magni asperiores est mollitia. Soluta at et reprehenderit. Placeat autem numquam et fuga numquam. Tempora in facere consequatur sit dolor ipsum. Consequatur nemo amet incidunt est facilis. Dolorem neque recusandae quo sit molestias sint dignissimos.
            </div>
            @*    <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
                </div>*@
        </div>
    </div>
</div><!-- End Large Modal-->

<div id="preloader">
    <div class="loader"></div>
</div>

<footer id="footer" class="footer">
    <div class="copyright">
        © Copyright <strong><span>Edu Center</span></strong>. All Rights Reserved
    </div>
    <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
    </div>
</footer>

<a href="#" class="back-to-top d-flex align-items-center justify-content-center">
    <i class="bi bi-arrow-up-short"></i>
</a>

<script src="~/lib/jquery/dist/jquery.js"></script>
<!-- Vendor JS Files -->
<script src="~/assets/vendor/apexcharts/apexcharts.min.js"></script>
<script src="~/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="~/assets/vendor/chart.js/chart.umd.js"></script>
<script src="~/assets/vendor/echarts/echarts.min.js"></script>
<script src="~/assets/vendor/simple-datatables/simple-datatables.js"></script>
<script src="~/assets/vendor/alertifyjs/alertify.min.js"></script>

<!-- Template Main JS File -->
<script src="~/assets/js/main.js"></script>
<script type="text/javascript" src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script src="~/js/dashboard.js" asp-append-version="true"></script>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
@await RenderSectionAsync("Scripts", required: false)
</body>
</html>