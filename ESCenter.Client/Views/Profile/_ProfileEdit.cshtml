@using ESCenter.Domain.Shared
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model ESCenter.Application.Accounts.Queries.GetUserProfile.UserProfileDto
@{
    var genders = EnumProvider.Genders;
}
<!-- Profile Edit Form -->

<form asp-action="Edit" asp-controller="Profile" onsubmit="return callPostActionWithForm(this);">
    <div class="row mb-3">
        <label asp-for="Avatar" class="col-md-4 col-lg-3 col-form-label">Profile Image</label>
        <div class="col-md-8 col-lg-9">
            <img src="@Model.Avatar" style="max-width: 120px;" alt="Profile" id="avatar">
            <input id="image" asp-for="Avatar" hidden type="text"/>
            <div class="pt-2">
                <input type="file" 
                       id="formFile" 
                       name="formFile" 
                       style="visibility: hidden; width: 1px; height: 1px" 
                       onchange="LoadImage('@Url.Action("ChangeAvatar", "Profile", null)','avatar'); return false;"/>
                <a href="" onclick="document.getElementById('formFile').click(); return false" class="btn btn-primary btn-sm" title="Upload new profile image">
                    <i class="bi bi-upload"></i>
                </a>
            </div>
        </div>

    </div>

    <div class="row mb-3">
        <label asp-for="FirstName" class="col-md-4 col-lg-3 col-form-label">First Name</label>
        <div class="col-md-8 col-lg-9">
            <input asp-for="FirstName" type="text" class="form-control" id="firstname">
            <span asp-validation-for="FirstName" class="text-danger"></span>

        </div>
    </div>
    <div class="row mb-3">
        <label for="about" class="col-md-4 col-lg-3 col-form-label">LastName</label>
        <div class="col-md-8 col-lg-9">
            <input asp-for="LastName" type="text" class="form-control" id="lastname">
            <span asp-validation-for="LastName" class="text-danger"></span>

        </div>
    </div>
    <div class="row mb-3">
        <label asp-for="BirthYear" class="col-md-4 col-lg-3 col-form-label">Birth</label>
        <div class="col-md-8 col-lg-9">
            <input type="number" class="form-control" asp-for="BirthYear"/>
            <span asp-validation-for="BirthYear" class="text-danger"></span>

        </div>

    </div>
    <div class="row mb-3">
        <label for="about" class="col-md-4 col-lg-3 col-form-label">Gender</label>
        <div class="col-md-8 col-lg-9">
            <select asp-for="Gender" class="form-select">
                <option selected>@Model.Gender</option>

                @foreach (var i in genders.Where(i => i != Model.Gender.ToString()))
                {
                    <option> @i </option>
                }

            </select>
            <span asp-validation-for="Gender" class="text-danger"></span>
        </div>
    </div>


    <div class="row mb-3">
        <label for="about" class="col-md-4 col-lg-3 col-form-label">About</label>
        <div class="col-md-8 col-lg-9">
            <textarea asp-for="Description" class="form-control" id="about" style="height: 100px"></textarea>
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>
    </div>


    <div class="row mb-3">
        <label asp-for="Role" class="col-md-4 col-lg-3 col-form-label">Role</label>
        <div class="col-md-8 col-lg-9">
            <input readonly asp-for="Role" type="text" class="form-control" id="Job">
            <span asp-validation-for="Role" class="text-danger"></span>

        </div>

    </div>

    <div class="row mb-3">
        <label asp-for="City" class="col-md-4 col-lg-3 col-form-label">City</label>
        <div class="col-md-8 col-lg-9">
            <input asp-for="City" type="text" class="form-control" id="City">
            <span asp-validation-for="City" class="text-danger"></span>
        </div>
    </div>

    <div class="row mb-3">
        <label asp-for="Country" class="col-md-4 col-lg-3 col-form-label">Country</label>
        <div class="col-md-8 col-lg-9">
            <input asp-for="Country" type="text" class="form-control" id="Country">
            <span asp-validation-for="Country" class="text-danger"></span>
        </div>
    </div>

    <div class="row mb-3">
        <label asp-for="PhoneNumber" class="col-md-4 col-lg-3 col-form-label">Phone</label>
        <div class="col-md-8 col-lg-9">
            <input asp-for="PhoneNumber" type="text" class="form-control" id="Phone">
            <span asp-validation-for="PhoneNumber" class="text-danger"></span>

        </div>

    </div>

    <div class="row mb-3">
        <label asp-for="Email" class="col-md-4 col-lg-3 col-form-label">Email</label>
        <div class="col-md-8 col-lg-9">
            <input asp-for="Email" readonly type="email" class="form-control" id="Email">
            <span asp-validation-for="Email" class="text-danger"></span>

        </div>
    </div>

    <input type="hidden" asp-for="Id"/>

    <div class="text-center">
        <button type="submit" class="btn btn-primary">Save Changes</button>
    </div>
</form>

<!-- End Profile Edit Form -->